Алгоритм работы корзинки

Раньше было - видим .ms значит сохраняем.
В принципе вариант. Но Миша предложил сделать по критерию сообщений, из интереса
Попробуем.

* Коринка создается по сообщению create-korzinka
crit: критерий сообщений
ms: время хранения.

Ну удаляется как.. не знаю, пока никак. Пусть зато корзинка будет критерием идентифицироваться например, ну пока-что. Потом мб уникальный айди запроса к ней добавим. Или еще что.

* По созданию, корзинка размещает query(crit) и тащит к себе все сообщения
и накапливает их в storage. Ну формально хранит там каждое сообщение ms времени от поступления
а потом стирает.

* Далее. Корзинка подписывается на НОВЫЕ crit-реакции.
Получая подобную реакцию - корзинка применяет к ней все хранимые в корзинке сообщения.

# TODO
Сделать чтобы узнавать, что коризнки сделались.

Можно через посылку обратного сообщения, но тогда надо в апи вносить для удобства пользования
чтобы then появилось.